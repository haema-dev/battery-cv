# inference job for battery_fastflow_model (uri_file data asset)
$schema: https://azuremlschemas.azureedge.net/latest/commandJob.schema.json
command: python index.py --data_path ${{inputs.data}} --model_path ${{inputs.model}} --output_dir ${{outputs.inference_results}} --mode prediction --precision 32
code: src/
inputs:
  data:
    type: uri_folder
    path: azureml:battery_data_256_256@latest
    mode: ro_mount
  model:
    type: uri_file
    path: azureml://jobs/joyful_grass_01rz3hb5dk/outputs/outputs/model.pt
    mode: ro_mount
outputs:
  inference_results:
    type: uri_folder
    mode: upload
environment:
  build:
    path: ./env
    dockerfile_path: Dockerfile
environment_variables:
  PYTHONNOUSERSITE: "1"
compute: azureml:gpu-t4
experiment_name: Battery_FastFlow_v2_Inference
